function ajax(e){var t=e.url;if(t){var o=(e.method||"get").toLowerCase(),n=e.data||{},a="";for(var r in n)a+=r+"="+n[r]+"&";a=a.slice(0,-1);var s=e.success,c=e.error,d=(e.dataType||"json").toLowerCase(),i=e.jsonp||"callback",p=e.cb||"phone"+(new Date).getTime()+Math.random().toString().slice(2);if("json"==d){var l=new XMLHttpRequest;"get"==o&&(l.open("get",t+"?"+a),l.send(null)),"post"==o&&(l.open("post",t),l.setRequestHeader("content-type","application/x-www-form-urlencoded"),l.send(a)),l.onreadystatechange=function(){4==l.readyState&&(200==l.status?s(l.response):c&&c())}}var u=document.createElement("script");u.src=t+"?"+a+"&"+i+"="+p,window[p]=function(e){s(e),u.remove()},document.body.appendChild(u)}else console.error("请求路径必须传入")}